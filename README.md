# car_bp_network
第二次作业
汽车自动变速器最佳挡位判断的bp神经网络

参考文献：汽车自动变速器最佳挡位判断的BP神经网络优化算法_梅琴

1）汽车自动变速器最佳挡位判断的bp 神经网络优化算法
![image](https://user-images.githubusercontent.com/92127845/160221607-d460c14a-f4ac-4c1a-b1ac-8d4a25a3423a.png)


假设1挡和2挡中间的函数曲线方程为y1=(x-2)^3+1
2挡和3挡中间的函数曲线方程为y2=(x-3)^3+1
3挡和4挡中间的函数曲线方程为y3=(x-4)^3+1

按阶段运行实时脚本exam2.mlx
3条曲线在[0,5]×[0,2]内的模样如下图所示
![image](https://user-images.githubusercontent.com/92127845/160221614-5bfe17f4-785a-4e1f-be47-bb6e1911c0c4.png)

将1，2，3，4挡的输出信号设为数字1，2，3，4
取l的范围为[0,5]
取alpha的范围为[0,2]

创建的神经网络为双隐层
第一层隐含层的神经元数目设为5
第二层隐含层的神经元的数目设为10
训练函数（学习规则）设为traingda
所有隐含层和输出层的激活函数都设为purelin
每次循环50次，最大循环次数500次
期望目标误差最小值为0.01
训练后的神经网络为net.mat

从[0,5]×[0,2]中随机选取500个点和其对应作为样本属性值，再通过函数fun.m来求出其对应的目标值
用这些样本点来训练神经网络
![image](https://user-images.githubusercontent.com/92127845/160221620-1e7fe807-1afc-4d83-8e8a-3f00a865fc33.png)


对训练完后的神经网络进行测试，
从[0,5]×[0,2]中随机选取300个点。将目标值与通过神经网络所获得的测试值进行比较
获得混淆矩阵：

![image](https://user-images.githubusercontent.com/92127845/160221624-9aacf7e9-f906-4290-8b11-4c925bb2821f.png)


显然，从混淆矩阵上来看，该神经网络的训练结果并不令人满意。而且许多数据测试结果小数部分与最接近其的整数误差太大（我是通过round来取整）。但我还未找到一个更好的解决方案使得神经网络预测的效果令人感觉满意

附：可通过输入测试值来预测挡位    
![image](https://user-images.githubusercontent.com/92127845/160221638-91a8064e-a5af-48d2-b642-98a5a224e64e.png)




